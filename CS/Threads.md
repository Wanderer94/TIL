# Thread

## 스레드가 무엇인지 설명해보세요.

- 스레드는 프로세스가 수행하는 작업의 실행단위입니다. 스레드는 프로세스 내부에 존재하며 프로세스가 할당받은 자원을 사용하여 작업을 수행합니다.

## 스레드와 프로세스의 차이가 뭐에요?

- 스레드는 프로세스 내에서 실행됩니다. 한 프로세스는 여러 스레드를 가질 수 있고, 이 스레드들은 해당 프로세스의 자원을 일부 서로 공유합니다. 프로세스는 생성시 코드영역, 데이터영역, 힙영역, 스택영역을 할당받습니다. 스레드는 여기서 스택 영역만 각 스레드가 독립적으로 유지하고 나머지 영역들을 프로세스 내의 스레드들이 함께 공유합니다.

## 각 스레드가 독립적인 스택 영역을 가지는 이유는 뭔가요?

- 스택영역을 따로 관리하기에 각 스레드는 서로 다른 작업을 수행할 수 있습니다. 함수 호출 시 한 스레드가 호출한 함수에 대한 스택정보가 다른 스레드에 영향을 준다면 스레드를 사용하는 의미가 없을 것입니다. 각 스레드는 프로세스의 작업 흐름을 담당해야하므로 서로 다른 작업흐름을 가지는 것이 허용되어야 합니다. 이를 위해 스택영역을 독립적으로 가지고 이와 더불어서 프로그램 카운터 레지스터역시도 독립적으로 가지게 됩니다.

## 멀티 스레딩이 무엇인지 말해보고 왜 사용하는지 설명해보세요.

- 멀티 스레딩은 하나의 프로그램을 여러개의 스레드로 구성해서 여러 스레드가 한 프로세스를 병렬적으로 실행할 수 있도록 하는 방법입니다. 한 프로세스 내부의 스레드는 서로 힙 영역을 공유하기 때문에 별다른 통신 기술을 사용하지 않고도 스레드끼리 데이터를 공유할 수 있습니다. 또한 스레드는 서로 공유하는 영역이 많기 때문에 CPU 캐시의 hit 율이 더 높고 이 때문에 멀티프로세싱보다 컨텍스트 스위칭의 비용이 더 저렴합니다.

## 사용자 수준 스레드와 커널 수준 스레드의 차이가 뭔지 알아요?

- 사용자 수준 스레드는 사용자 영역의 스레드 라이브러리를 통해 구현됩니다. 모든 구현과 동작은 사용자 영역에서 진행되기 때문에 커널은 사용자 수준 스레드의 존재유무를 알지 못합니다. 
- 커널 수준 스레드는 운영체제가 생성하고 관리하는 스레드입니다. 

## 그럼 멀티 스레딩에 문제점은 없나요?

- 멀티 스레딩을 사용하게 되면 모든 스레드들이 데이터 영역, 힙 영역, 코드 영역을 공유하게 됩니다. 이 때 다수의 스레드가 데이터 영역과 힙 영역의 데이터에 동시에 접근하게 되면 동기화 문제가 발생합니다. 이를 해결하기 위해 Mutex 나 Semaphore 같은 방법을 사용합니다.